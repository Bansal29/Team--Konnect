<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title class="sign">Sign Up</title>
    <link rel="stylesheet" href="signup.css" />
  </head>
  <body>
    <div class="box"></div>
    <div class="box-2"></div>
    <div class="box-3"></div>
    <div class="box-4"></div>
    <div class="box-5"></div>
    <div class="box-6"></div>
    <div class="container">
      <a href="index.html" class="logo"
        ><img src="light.png" class="logoimg" height="50" width="150"
      /></a>
      <h1>Sign Up</h1>
      <form id="signup-form">
        <div class="form-group">
          <label for="university">Select University:</label>
          <select id="university" name="university">
            <option value="" disabled selected>Select your university</option>
          </select>
        </div>
        <div class="form-group">
          <label for="email">College Email:</label>
          <div class="clg">
            <input type="text" id="email1" name="email" required />
            <input type="email" id="email2" name="email" disabled />
          </div>
          <div class="error" id="email-error"></div>
        </div>
        <div class="form-group">
          <label for="prn">Name:</label>
          <input type="text" id="prn" name="prn" required />
        </div>
        <div class="form-group">
          <label for="password">Password:</label>
          <div class="password-container">
            <input type="password" id="password" name="password" required />
            <button type="button" id="show-password">Show</button>
          </div>
        </div>
        <div class="form-group">
          <label for="confirm-password">Confirm Password:</label>
          <input
            type="password"
            id="confirm-password"
            name="confirm-password"
            required
          />
          <div class="error" id="password-error"></div>
        </div>

        <button type="submit">Sign Up</button>
      </form>
    </div>
    <script>
      const emailInput1 = document.getElementById("email1");
      const emailInput2 = document.getElementById("email2");
      const passwordInput = document.getElementById("password");
      const confirmPasswordInput = document.getElementById("confirm-password");
      const emailError = document.getElementById("email-error");
      const passwordError = document.getElementById("password-error");
      const showPasswordButton = document.getElementById("show-password");
      const universitySelect = document.getElementById("university");

      document
        .getElementById("signup-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // const email = emailInput.value.trim();
          const password = passwordInput.value;
          const confirmPassword = confirmPasswordInput.value;

          // Validate email using a regular expression
          // const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
          // if (!emailPattern.test(email)) {
          //     emailError.textContent = 'Invalid email address';
          //     return;
          // } else {
          //     emailError.textContent = '';
          // }

          // Check if passwords match
          if (password !== confirmPassword) {
            passwordError.textContent = "Passwords do not match";
            return;
          } else {
            passwordError.textContent = "";
          }
          alert("Sign Up successfull! Welcome to Connect!");
          // Redirect to the dashboard page upon successful submission
          window.location.href = "dashboard.html"; // Replace with your actual dashboard page URL
        });

      showPasswordButton.addEventListener("click", () => {
        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          showPasswordButton.textContent = "Hide";
        } else {
          passwordInput.type = "password";
          showPasswordButton.textContent = "Show";
        }
      });

      const universities = [
        "Bharati Vidyapeeth",
        "Deccan College Post-Graduate and Research Institute",
        "Defence Institute of Advanced Technology (formerly Institute of Armament Technology)",
        "Dnyaneshwar Vidyapeeth",
        "FLAME University",
        "Gokhale Institute of Politics and Economics",
        "Indian Institute of Information Technology, Pune",
        "Indian Institute of Science Education and Research, Pune",
        "Christ University Pune Lavasa, Campus",
        "Indian Institute of Science Education and Research, Pune",
        "National Institute of Construction Management and Research",
        "National Defence Academy",
        "Tilak Maharashtra University",
        "Savitribai Phule Pune University",
        "Spicer Adventist University",
        "Symbiosis International University",
        "MIT University - MIT Art, Design and Technology University",
        "Ajeenkya DY Patil University",
        "Flame University",
        "MIT - World Peace University",
        "Spicer Adventist University",
        "Christ University Pune Lavasa, Campus",
        "Symbiosis International University",
        "Symbiosis Skills and Professional University",
      ];

      // Sort the universities array alphabetically
      universities.sort();

      // Populate the select element with the sorted universities
      universities.forEach((university) => {
        const option = document.createElement("option");
        option.text = university;
        option.value = university;
        universitySelect.appendChild(option);
      });

      universitySelect.addEventListener("change", () => {
        const selectedUniversity = universitySelect.value;

        // Define a mapping of universities to email domains (update as needed)
        const universityToEmailDomain = {
          "Bharati Vidyapeeth": "bharatividyapeeth.edu.in",
          "Deccan College Post-Graduate and Research Institute":
            "deccancollege.edu.in",
          "MIT - World Peace University": "mitwpu.edu.in",
          "MIT University - MIT Art, Design and Technology University":
            "mitwpu.edu.in",
          // Add more universities and domains as needed
        };

        // Set the email field based on the selected university
        if (universityToEmailDomain[selectedUniversity]) {
          emailInput2.value = `@${universityToEmailDomain[selectedUniversity]}`;
        } else {
          emailInput2.value = "";
        }
      });
    </script>
  </body>
</html>
